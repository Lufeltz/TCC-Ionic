<div class="publicacoes-container">
  <ul>
    <li *ngFor="let publicacao of filteredPublications" class="publicacao">
      <div class="publicacao-header">
        <div class="username">
          <lucide-angular
            [img]="UserRound"
            class="btn-inscrever-se"
            [size]="20"
            color="var(--text-new-green)"
          ></lucide-angular>
          <p class="usuario-username">{{ publicacao.Usuario.username }}</p>
        </div>
        <p class="data">
          {{ publicacao.dataPublicacao | date : "dd/MM/yy, hh:mm" }}
        </p>
      </div>
      <div class="publicacao-usuario">
        <p class="comentarios-header">Titulo da publicação</p>
        <p class="descricao">{{ publicacao.descricao }}</p>
        <div class="curtidas">
          <div class="curtidas-info" (click)="curtir(publicacao)">
            <div class="icon-align">
              <lucide-angular
                [img]="Star"
                class="btn-inscrever-se"
                [size]="20"
                [color]="publicacao.isCurtiu ? 'var(--yellow-desc)' : 'gray'"
              ></lucide-angular>
            </div>
            <span
              [ngClass]="{
                'text-gray': !publicacao.isCurtiu,
                'yellow-desc': publicacao.isCurtiu
              }"
            >
              {{ publicacao.listaUsuarioCurtida.length }}
            </span>
          </div>
        </div>
      </div>
      <div class="publicacao-interacoes">
        <ion-accordion-group>
          <ion-accordion>
            <ion-item slot="header" class="comentarios-header">
              <ion-label><strong>Comentários</strong></ion-label>
            </ion-item>
            <div slot="content">
              <ul>
                <li
                  class="li-comentarios"
                  *ngFor="let comentario of publicacao.listaComentario"
                >
                  <div class="comentario-header">
                    <div class="username">
                      <lucide-angular
                        [img]="UserRound"
                        class="btn-inscrever-se"
                        [size]="20"
                        color="var(--text-new-green)"
                      ></lucide-angular>
                      <p class="usuario-username">
                        {{ comentario.Usuario.username }}
                      </p>
                    </div>
                    <p class="comentario-data">
                      {{ comentario.dataComentario | date : "dd/MM/yy, hh:mm" }}
                    </p>
                  </div>
                  <p class="comentario-descricao">{{ comentario.descricao }}</p>
                  <div class="comentario-curtidas">
                    <div class="curtidas-info" (click)="curtir(comentario)">
                      <div class="icon-align">
                        <lucide-angular
                          [img]="Star"
                          class="btn-inscrever-se"
                          [size]="20"
                          [color]="
                            comentario.isCurtiu ? 'var(--yellow-desc)' : 'gray'
                          "
                        ></lucide-angular>
                      </div>
                      <span [ngClass]="{ 'text-gray': !comentario.isCurtiu, 'yellow-desc': comentario.isCurtiu }">
                        {{ comentario.listaUsuarioCurtida.length }}
                      </span>
                    </div>
                  </div>
                </li>
              </ul>
              <ion-button size="small" expand="block" class="icon-button">
                <div class="text-container">Mais Comentários</div>
                <div class="icon-align">
                  <lucide-angular
                    [img]="RotateCw"
                    class="btn-inscrever-se"
                    [size]="20"
                  ></lucide-angular>
                </div>
              </ion-button>
            </div>
          </ion-accordion>
        </ion-accordion-group>
      </div>
    </li>
  </ul>
  <ion-button size="small" expand="block" class="icon-button">
    <div class="text-container">Mais Posts</div>
    <div class="icon-align">
      <lucide-angular
        [img]="RotateCw"
        class="btn-inscrever-se"
        [size]="20"
      ></lucide-angular>
    </div>
  </ion-button>
</div>
