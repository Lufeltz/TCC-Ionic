<ion-content class="ion-padding">
  <app-menu-perfil
    [title]="pageTitle"
    [menu]="pageMenu"
    [menuContentId]="pageContent"
  ></app-menu-perfil>

  <ion-segment [(ngModel)]="selectedSegment">
    <ion-segment-button value="inscrito">
      <ion-label>Inscrito</ion-label>
    </ion-segment-button>
    <ion-segment-button value="nao-inscrito">
      <ion-label>Não Inscrito</ion-label>
    </ion-segment-button>
  </ion-segment>

  <!-- Modalidades inscritas -->
  <div *ngIf="selectedSegment === 'inscrito'">
    <ul>
      <li
        *ngFor="let modalidade of getModalidadesInscritas()"
        class="item-lista"
      >
        <h3>
          {{ modalidade.nome }}
          <span class="jogador-data">
            {{ modalidade.dataCriacao | date: 'dd/MM/yy' }}
          </span>
        </h3>
        <p>{{ modalidade.descricao }}</p>
        <img
          *ngIf="modalidade.foto"
          [src]="modalidade.foto"
          alt="{{ modalidade.nome }}"
        />
        <ion-button
          class="alerta-cancelar"
          [id]="'alerta-cancelar-' + modalidade.nome"
          size="small"
          expand="block"
          (click)="setCurrentModalidade(modalidade)"
        >
          Cancelar inscrição
        </ion-button>
        <ion-alert
          [trigger]="'alerta-cancelar-' + modalidade.nome"
          header="Cancelar inscrição?"
          [subHeader]="'Modalidade: ' + modalidade.nome"
          message="Ao cancelar sua inscrição você não receberá mais informações sobre essa modalidade no seu feed"
          [buttons]="alertButtons"
          (didDismiss)="setResult($event)"
        ></ion-alert>
      </li>
    </ul>
  </div>

  <!-- Modalidades não inscritas -->
  <div *ngIf="selectedSegment === 'nao-inscrito'">
    <ul>
      <li
        *ngFor="let modalidade of getModalidadesNaoInscritas()"
        class="item-lista item-lista-nao-inscrito"
      >
        <h3>
          {{ modalidade.nome }}
          <span class="jogador-data">
            {{ modalidade.dataCriacao | date: 'dd/MM/yy' }}
          </span>
        </h3>
        <p>{{ modalidade.descricao }}</p>
        <img
          *ngIf="modalidade.foto"
          [src]="modalidade.foto"
          alt="{{ modalidade.nome }}"
        />
        <ion-button
          [id]="'alerta-inscrever-' + modalidade.nome"
          class="alerta-inscrever"
          size="small"
          expand="block"
          (click)="setCurrentModalidade(modalidade)"
        >
          Inscrever-se
        </ion-button>
        <ion-alert
          [trigger]="'alerta-inscrever-' + modalidade.nome"
          header="Inscrever-se?"
          [subHeader]="'Modalidade: ' + modalidade.nome"
          message="Ao realizar a inscrição você passará a receber informações sobre essa modalidade no seu feed"
          [buttons]="alertButtons"
          (didDismiss)="setResult($event)"
        ></ion-alert>
      </li>
    </ul>
  </div>
</ion-content>
