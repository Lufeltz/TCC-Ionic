<ion-content class="ion-padding">
  <app-menu-perfil
    [title]="pageTitle"
    [menu]="pageMenu"
    [menuContentId]="pageContent"
  ></app-menu-perfil>

  <ion-segment [(ngModel)]="selectedSegment">
    <ion-segment-button value="criacao">
      <ion-label>Criação</ion-label>
    </ion-segment-button>
    <ion-segment-button value="listagem">
      <ion-label>Listagem</ion-label>
    </ion-segment-button>
  </ion-segment>

  <div *ngIf="selectedSegment === 'criacao'">
    <div class="container">
      <ul>
        <li class="item-lista2">
          <div class="icon-align">
            <lucide-angular
              [img]="CaseUpper"
              class="btn-inscrever-se"
              [size]="20"
              [color]="'var(--text-light)'"
            ></lucide-angular>
            <ion-label>Titulo</ion-label>
          </div>
          <ion-input
            [(ngModel)]="meta.titulo"
            placeholder="Hidrate-se"
          ></ion-input>
        </li>
        <li class="item-lista2">
          <div class="icon-align">
            <lucide-angular
              [img]="NotebookText"
              class="btn-inscrever-se"
              [size]="20"
              [color]="'var(--text-light)'"
            ></lucide-angular>
            <ion-label>Descrição</ion-label>
          </div>
          <ion-input
            [(ngModel)]="meta.descricao"
            placeholder="Beber 2 litros de água durante o dia"
          ></ion-input>
        </li>
        <li class="item-lista2">
          <div class="icon-align">
            <lucide-angular
              [img]="Target"
              class="btn-inscrever-se"
              [size]="20"
              [color]="'var(--text-light)'"
            ></lucide-angular>
            <ion-label>Objetivo</ion-label>
          </div>
          <ion-input [(ngModel)]="meta.progresso" placeholder="2"></ion-input>
        </li>
      </ul>

      <ion-button
        id="open-toast"
        expand="small"
        class="centered-button"
        (click)="salvarDados()"
      >
        <div class="icon-align">
          <lucide-angular
            [img]="Pencil"
            class="btn-inscrever-se"
            [size]="20"
            [color]="'var(--background-dark)'"
          ></lucide-angular>
          <p>Criar</p>
        </div>
      </ion-button>

      <ion-toast
        trigger="open-toast"
        message="Dados de perfil atualizados!"
        [duration]="3000"
      ></ion-toast>
    </div>
  </div>

  <div *ngIf="selectedSegment === 'listagem'">
    <ion-item lines="none">
      <div class="align-diarias">
        <div class="icon-label">
          <lucide-angular
            [img]="Clock4"
            class="btn-inscrever-se"
            [size]="20"
          ></lucide-angular>
          <ion-label class="label-titulo">Diárias</ion-label>
        </div>
        <ion-toggle
          class="toggle-diarias"
          slot="end"
          (ionChange)="toggleFilterDiarias($event)"
          [checked]="filterDiarias"
        ></ion-toggle>
      </div>
    </ion-item>
    <ion-item lines="none">
      <div class="align-esportivas">
        <div class="icon-label">
          <lucide-angular
            [img]="BicepsFlexed"
            class="btn-inscrever-se"
            [size]="20"
          ></lucide-angular>
          <ion-label class="label-titulo">Esportivas</ion-label>
        </div>
        <ion-toggle
          class="toggle-esportivas"
          slot="end"
          (ionChange)="toggleFilterEsportivas($event)"
          [checked]="filterEsportivas"
        ></ion-toggle>
      </div>
    </ion-item>
    <ul>
      <li
        *ngFor="let meta of filteredMetas"
        class="item-lista"
        [ngClass]="{
          'meta-esportiva': meta.tipo === 'esportiva',
          'meta-diaria': meta.tipo === 'diaria'
        }"
      >
        <h3
          [ngClass]="{
            'titulo-esportiva': meta.tipo === 'esportiva',
            'titulo-diaria': meta.tipo === 'diaria'
          }"
        >
          {{ meta.nome || meta.esporte }}
          <span class="texto-light">{{ meta.tipo | titlecase }}</span>
        </h3>
        <p
          *ngIf="meta.tipo === 'diaria' && meta.opcoes && meta.opcoes.length > 0"
        >
          <!-- 100 / {{ meta.opcoes[0] }} -->
          <br />Beber 2 litros de água <br /><br />
          100 / 2000 ml
        </p>
        <p
          *ngIf="meta.tipo === 'esportiva' && meta.metas && meta.metas.length > 0"
        >
          <!-- {{ meta.metas[0] }} -->
          <br />Realizar 25 gols <br /><br />
          12 / 25 gols
        </p>


        <div class="button-group">
          <ion-button
            id="open-toast"
            expand="small"
            class="centered-button"
            (click)="salvarDados()"
          >
            <div class="icon-align">
              <lucide-angular
                [img]="SquarePen"
                class="btn-inscrever-se"
                [size]="20"
                [color]="'var(--background-dark)'"
              ></lucide-angular>
              <!-- <p>Editar</p> -->
            </div>
          </ion-button>
          <ion-button
            id="open-toast"
            expand="small"
            class="centered-button"
            (click)="salvarDados()"
          >
            <div class="icon-align">
              <lucide-angular
                [img]="SquareCheckBig"
                class="btn-inscrever-se"
                [size]="20"
                [color]="'var(--background-dark)'"
              ></lucide-angular>
              <!-- <p>Concluir</p> -->
            </div>
          </ion-button>
          <ion-button
            id="open-toast"
            expand="small"
            class="centered-button"
            (click)="salvarDados()"
          >
            <div class="icon-align">
              <lucide-angular
                [img]="Trash2"
                class="btn-inscrever-se"
                [size]="20"
                [color]="'var(--background-dark)'"
              ></lucide-angular>
              <!-- <p>Deletar</p> -->
            </div>
          </ion-button>
        </div>
        



      </li>
    </ul>
  </div>
</ion-content>
